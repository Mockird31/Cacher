# Тест кейсы для тестирования CacheServer

## 1. Тест обработки команд (test_handle_command)

### TC-1.1: Обработка команды SET
- **Описание**: Проверка корректности обработки команды SET
- **Предусловия**: Инициализирован экземпляр CacheServer на localhost:6380
- **Шаги**:
  1. Отправить команду "SET test_key test_value" через метод handle_command
  2. Получить ответ сервера
- **Ожидаемый результат**: Сервер возвращает строку "True"
- **Риски**: Некорректная обработка команды или формата ответа

### TC-1.2: Обработка команды GET
- **Описание**: Проверка корректности обработки команды GET
- **Предусловия**: 
  - Инициализирован экземпляр CacheServer на localhost:6380
  - В кэше уже установлено значение для ключа test_key
- **Шаги**:
  1. Отправить команду "GET test_key" через метод handle_command
  2. Получить ответ сервера
- **Ожидаемый результат**: Сервер возвращает строку "test_value"
- **Риски**: Некорректная обработка команды или неправильное извлечение значения

### TC-1.3: Обработка команды PING
- **Описание**: Проверка корректности обработки команды PING
- **Предусловия**: Инициализирован экземпляр CacheServer на localhost:6380
- **Шаги**:
  1. Отправить команду "PING" через метод handle_command
  2. Получить ответ сервера
- **Ожидаемый результат**: Сервер возвращает строку "PONG"
- **Риски**: Некорректная обработка команды или неправильная реакция на PING

### TC-1.4: Обработка неизвестной команды
- **Описание**: Проверка реакции сервера на неизвестную команду
- **Предусловия**: Инициализирован экземпляр CacheServer на localhost:6380
- **Шаги**:
  1. Отправить неизвестную команду "UNKNOWN_COMMAND" через метод handle_command
  2. Получить ответ сервера
- **Ожидаемый результат**: Сервер возвращает строку "unknown command"
- **Риски**: Некорректная обработка неизвестных команд или возникновение исключений

## 2. Тест запуска сервера (test_start_server)

### TC-2.1: Запуск и настройка сервера
- **Описание**: Проверка корректности запуска и настройки сервера
- **Предусловия**: 
  - Создан экземпляр CacheServer на localhost:6380
  - Замокирован объект socket для тестирования без реального сетевого взаимодействия
- **Шаги**:
  1. Создать мок для серверного сокета
  2. Настроить мок так, чтобы метод accept вызывал исключение KeyboardInterrupt (для завершения цикла)
  3. Вызвать метод start() для запуска сервера
  4. Проверить, что были вызваны все необходимые методы сокета
- **Ожидаемый результат**: 
  - Метод bind вызван с правильными параметрами ("127.0.0.1", 6380)
  - Метод listen вызван один раз
  - Метод accept вызван один раз
  - Метод close вызван один раз
- **Риски**: 
  - Некорректная настройка сокета
  - Отсутствие вызова методов, необходимых для правильной работы сервера
  - Некорректная обработка исключений при запуске/остановке сервера